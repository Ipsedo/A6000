[]integer string_of_int(integer x) (
  var integer n;
  var integer i;
  var integer tmp;
  var []integer res;

  n := log10(x) + 1;
  res := [n]integer;
  for (i := n - 1; i >= 0; i--) (
    tmp := x / 10;
    tmp *= 10;
    res[i] := x - tmp + 48;
    x /= 10;
  );
  result := res;
)

integer log10(integer v) (
  if v >= 1000000 then (
    result := 6;
  ) else (
    if v >= 100000 then (
      result := 5;
    ) else (
      if v >= 10000 then (
        result := 4;
      ) else (
        if v >= 1000 then (
          result := 3;
        ) else (
          if v >= 100 then (
            result := 2;
          ) else (
            if v >= 10 then (
              result := 1;
            ) else (
              result := 0;
          );
        );
      );
    );
  );
  );
)
